{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { FlyoutMenu } from '../FlyoutMenu/FlyoutMenu.js';\nimport { ChevronRight } from '../Icons/index.js';\nimport { useLayerContext } from '../Layer/Layer.js';\nimport { Popper } from '../Popper/Popper.js';\nimport styles from './MenuItem.styles.js';\n\nconst isModifiedEvent = evt => evt.metaKey || evt.altKey || evt.ctrlKey || evt.shiftKey;\n\nconst createOnClickHandler = ({\n  onClick,\n  toggleSubMenu,\n  isLink,\n  value\n}) => evt => {\n  if (isLink && isModifiedEvent(evt) || !(onClick || toggleSubMenu)) {\n    return;\n  }\n\n  evt.preventDefault();\n  evt.stopPropagation();\n  onClick && onClick({\n    value\n  }, evt);\n  toggleSubMenu && toggleSubMenu();\n};\n/**\n * @module\n * @param {MenuItem.PropTypes}\n * @returns {React.Component}\n *\n * @example import { MenuItem } from '@dhis2/ui\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/molecules/menu.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/components-core-menulist--default|Storybook}\n */\n\n\nconst MenuItem = ({\n  href,\n  onClick,\n  children,\n  target,\n  icon,\n  className,\n  destructive,\n  disabled,\n  dense,\n  active,\n  dataTest,\n  chevron,\n  value,\n  label,\n  showSubMenu,\n  toggleSubMenu\n}) => {\n  const menuItemRef = useRef();\n  const {\n    node\n  } = useLayerContext();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n    ref: menuItemRef,\n    \"data-test\": dataTest,\n    className: \"jsx-\".concat(styles.__hash) + \" \" + (cx(className, {\n      destructive,\n      disabled,\n      dense,\n      active: active || showSubMenu,\n      'with-chevron': chevron\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: target,\n    href: !disabled && href ? href : undefined,\n    onClick: !disabled ? createOnClickHandler({\n      onClick,\n      toggleSubMenu,\n      isLink: !!href,\n      value\n    }) : undefined,\n    className: \"jsx-\".concat(styles.__hash)\n  }, icon && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"icon\"\n  }, icon), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"label\"\n  }, label), (chevron || children) && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"chevron\"\n  }, /*#__PURE__*/React.createElement(ChevronRight, null))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles)), children && showSubMenu && /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(Popper, {\n    placement: \"right-start\",\n    reference: menuItemRef\n  }, /*#__PURE__*/React.createElement(FlyoutMenu, {\n    dense: dense\n  }, children)), node));\n};\n\nMenuItem.defaultProps = {\n  dataTest: 'dhis2-uicore-menuitem'\n};\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {boolean} [active]\n * @prop {boolean} [chevron]\n * @prop {Node} [children]\n * @prop {string} [className]\n * @prop {string} [dataTest='dhis2-uicore-menuitem']\n * @prop {boolean} [dense]\n * @prop {boolean} [destructive]\n * @prop {boolean} [disabled]\n * @prop {string} [href]\n * @prop {Node} [icon]\n * @prop {Node} [label]\n * @prop {boolean} [showSubMenu]\n * @prop {string} [target]\n * @prop {function} [toggleSubMenu]\n * @prop {string} [value]\n * @prop {function} [onClick] - Click handler called with `value` in the payload\n */\n\nMenuItem.propTypes = {\n  active: PropTypes.bool,\n  chevron: PropTypes.bool,\n\n  /**\n   * Nested menu items can become submenus.\n   * See `showSubMenu` and `toggleSubMenu` props, and 'Children' demo\n   */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  destructive: PropTypes.bool,\n  disabled: PropTypes.bool,\n\n  /** For using menu item as a link */\n  href: PropTypes.string,\n\n  /** An icon for the left side of the menu item */\n  icon: PropTypes.node,\n\n  /** Text in the menu item */\n  label: PropTypes.node,\n\n  /** When true, nested menu items are shown in a Popper */\n  showSubMenu: PropTypes.bool,\n\n  /** For using menu item as a link */\n  target: PropTypes.string,\n\n  /** On click, this function is called (without args) */\n  toggleSubMenu: PropTypes.func,\n\n  /** Value associated with item. Passed as an argument to onClick handler. */\n  value: PropTypes.string,\n\n  /** Click handler called with signature `({ value: string }, event)` */\n  onClick: PropTypes.func\n};\nexport { MenuItem };","map":{"version":3,"sources":["/Users/rajabu/.config/yarn/global/node_modules/@dhis2/ui/node_modules/@dhis2/ui-core/build/es/MenuItem/MenuItem.js"],"names":["_JSXStyle","cx","PropTypes","React","useRef","createPortal","FlyoutMenu","ChevronRight","useLayerContext","Popper","styles","isModifiedEvent","evt","metaKey","altKey","ctrlKey","shiftKey","createOnClickHandler","onClick","toggleSubMenu","isLink","value","preventDefault","stopPropagation","MenuItem","href","children","target","icon","className","destructive","disabled","dense","active","dataTest","chevron","label","showSubMenu","menuItemRef","node","createElement","Fragment","ref","concat","__hash","undefined","id","placement","reference","defaultProps","propTypes","bool","string","func"],"mappings":"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","sourcesContent":["import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { FlyoutMenu } from '../FlyoutMenu/FlyoutMenu.js';\nimport { ChevronRight } from '../Icons/index.js';\nimport { useLayerContext } from '../Layer/Layer.js';\nimport { Popper } from '../Popper/Popper.js';\nimport styles from './MenuItem.styles.js';\n\nconst isModifiedEvent = evt => evt.metaKey || evt.altKey || evt.ctrlKey || evt.shiftKey;\n\nconst createOnClickHandler = ({\n  onClick,\n  toggleSubMenu,\n  isLink,\n  value\n}) => evt => {\n  if (isLink && isModifiedEvent(evt) || !(onClick || toggleSubMenu)) {\n    return;\n  }\n\n  evt.preventDefault();\n  evt.stopPropagation();\n  onClick && onClick({\n    value\n  }, evt);\n  toggleSubMenu && toggleSubMenu();\n};\n/**\n * @module\n * @param {MenuItem.PropTypes}\n * @returns {React.Component}\n *\n * @example import { MenuItem } from '@dhis2/ui\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/molecules/menu.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/components-core-menulist--default|Storybook}\n */\n\n\nconst MenuItem = ({\n  href,\n  onClick,\n  children,\n  target,\n  icon,\n  className,\n  destructive,\n  disabled,\n  dense,\n  active,\n  dataTest,\n  chevron,\n  value,\n  label,\n  showSubMenu,\n  toggleSubMenu\n}) => {\n  const menuItemRef = useRef();\n  const {\n    node\n  } = useLayerContext();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n    ref: menuItemRef,\n    \"data-test\": dataTest,\n    className: \"jsx-\".concat(styles.__hash) + \" \" + (cx(className, {\n      destructive,\n      disabled,\n      dense,\n      active: active || showSubMenu,\n      'with-chevron': chevron\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: target,\n    href: !disabled && href ? href : undefined,\n    onClick: !disabled ? createOnClickHandler({\n      onClick,\n      toggleSubMenu,\n      isLink: !!href,\n      value\n    }) : undefined,\n    className: \"jsx-\".concat(styles.__hash)\n  }, icon && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"icon\"\n  }, icon), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"label\"\n  }, label), (chevron || children) && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"chevron\"\n  }, /*#__PURE__*/React.createElement(ChevronRight, null))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles)), children && showSubMenu && /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(Popper, {\n    placement: \"right-start\",\n    reference: menuItemRef\n  }, /*#__PURE__*/React.createElement(FlyoutMenu, {\n    dense: dense\n  }, children)), node));\n};\n\nMenuItem.defaultProps = {\n  dataTest: 'dhis2-uicore-menuitem'\n};\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {boolean} [active]\n * @prop {boolean} [chevron]\n * @prop {Node} [children]\n * @prop {string} [className]\n * @prop {string} [dataTest='dhis2-uicore-menuitem']\n * @prop {boolean} [dense]\n * @prop {boolean} [destructive]\n * @prop {boolean} [disabled]\n * @prop {string} [href]\n * @prop {Node} [icon]\n * @prop {Node} [label]\n * @prop {boolean} [showSubMenu]\n * @prop {string} [target]\n * @prop {function} [toggleSubMenu]\n * @prop {string} [value]\n * @prop {function} [onClick] - Click handler called with `value` in the payload\n */\n\nMenuItem.propTypes = {\n  active: PropTypes.bool,\n  chevron: PropTypes.bool,\n\n  /**\n   * Nested menu items can become submenus.\n   * See `showSubMenu` and `toggleSubMenu` props, and 'Children' demo\n   */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  destructive: PropTypes.bool,\n  disabled: PropTypes.bool,\n\n  /** For using menu item as a link */\n  href: PropTypes.string,\n\n  /** An icon for the left side of the menu item */\n  icon: PropTypes.node,\n\n  /** Text in the menu item */\n  label: PropTypes.node,\n\n  /** When true, nested menu items are shown in a Popper */\n  showSubMenu: PropTypes.bool,\n\n  /** For using menu item as a link */\n  target: PropTypes.string,\n\n  /** On click, this function is called (without args) */\n  toggleSubMenu: PropTypes.func,\n\n  /** Value associated with item. Passed as an argument to onClick handler. */\n  value: PropTypes.string,\n\n  /** Click handler called with signature `({ value: string }, event)` */\n  onClick: PropTypes.func\n};\nexport { MenuItem };"]},"metadata":{},"sourceType":"module"}