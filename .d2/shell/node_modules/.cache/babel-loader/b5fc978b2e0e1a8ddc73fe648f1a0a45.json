{"ast":null,"code":"import { useCallback } from 'react';\nimport { useDataEngine } from './useDataEngine';\nimport { useQueryExecutor } from './useQueryExecutor';\nimport { useStaticInput } from './useStaticInput';\nconst empty = {};\nexport const useDataQuery = (query, {\n  onComplete,\n  onError,\n  variables = empty,\n  lazy = false\n} = {}) => {\n  const engine = useDataEngine();\n  const [theQuery] = useStaticInput(query, {\n    warn: true,\n    name: 'query'\n  });\n  const execute = useCallback(options => engine.query(theQuery, options), [engine, theQuery]);\n  const {\n    refetch,\n    called,\n    loading,\n    error,\n    data\n  } = useQueryExecutor({\n    execute,\n    variables,\n    singular: true,\n    immediate: !lazy,\n    onComplete,\n    onError\n  });\n  return {\n    engine,\n    refetch,\n    called,\n    loading,\n    error,\n    data\n  };\n};","map":{"version":3,"sources":["/Users/rajabu/.config/yarn/global/node_modules/@dhis2/app-service-data/build/es/react/hooks/useDataQuery.js"],"names":["useCallback","useDataEngine","useQueryExecutor","useStaticInput","empty","useDataQuery","query","onComplete","onError","variables","lazy","engine","theQuery","warn","name","execute","options","refetch","called","loading","error","data","singular","immediate"],"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,MAAMC,KAAK,GAAG,EAAd;AACA,OAAO,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQ;AAClCC,EAAAA,UADkC;AAElCC,EAAAA,OAFkC;AAGlCC,EAAAA,SAAS,GAAGL,KAHsB;AAIlCM,EAAAA,IAAI,GAAG;AAJ2B,IAKhC,EALwB,KAKjB;AACT,QAAMC,MAAM,GAAGV,aAAa,EAA5B;AACA,QAAM,CAACW,QAAD,IAAaT,cAAc,CAACG,KAAD,EAAQ;AACvCO,IAAAA,IAAI,EAAE,IADiC;AAEvCC,IAAAA,IAAI,EAAE;AAFiC,GAAR,CAAjC;AAIA,QAAMC,OAAO,GAAGf,WAAW,CAACgB,OAAO,IAAIL,MAAM,CAACL,KAAP,CAAaM,QAAb,EAAuBI,OAAvB,CAAZ,EAA6C,CAACL,MAAD,EAASC,QAAT,CAA7C,CAA3B;AACA,QAAM;AACJK,IAAAA,OADI;AAEJC,IAAAA,MAFI;AAGJC,IAAAA,OAHI;AAIJC,IAAAA,KAJI;AAKJC,IAAAA;AALI,MAMFnB,gBAAgB,CAAC;AACnBa,IAAAA,OADmB;AAEnBN,IAAAA,SAFmB;AAGnBa,IAAAA,QAAQ,EAAE,IAHS;AAInBC,IAAAA,SAAS,EAAE,CAACb,IAJO;AAKnBH,IAAAA,UALmB;AAMnBC,IAAAA;AANmB,GAAD,CANpB;AAcA,SAAO;AACLG,IAAAA,MADK;AAELM,IAAAA,OAFK;AAGLC,IAAAA,MAHK;AAILC,IAAAA,OAJK;AAKLC,IAAAA,KALK;AAMLC,IAAAA;AANK,GAAP;AAQD,CAlCM","sourcesContent":["import { useCallback } from 'react';\nimport { useDataEngine } from './useDataEngine';\nimport { useQueryExecutor } from './useQueryExecutor';\nimport { useStaticInput } from './useStaticInput';\nconst empty = {};\nexport const useDataQuery = (query, {\n  onComplete,\n  onError,\n  variables = empty,\n  lazy = false\n} = {}) => {\n  const engine = useDataEngine();\n  const [theQuery] = useStaticInput(query, {\n    warn: true,\n    name: 'query'\n  });\n  const execute = useCallback(options => engine.query(theQuery, options), [engine, theQuery]);\n  const {\n    refetch,\n    called,\n    loading,\n    error,\n    data\n  } = useQueryExecutor({\n    execute,\n    variables,\n    singular: true,\n    immediate: !lazy,\n    onComplete,\n    onError\n  });\n  return {\n    engine,\n    refetch,\n    called,\n    loading,\n    error,\n    data\n  };\n};"]},"metadata":{},"sourceType":"module"}