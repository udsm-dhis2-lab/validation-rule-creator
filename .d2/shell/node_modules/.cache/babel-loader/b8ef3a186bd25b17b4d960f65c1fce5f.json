{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport propTypes from '@dhis2/prop-types';\nimport React from 'react';\nimport { ProfileMenu } from './Profile/ProfileMenu.js';\nimport { UserIcon } from './UserIcon/UserIcon.js';\nexport default class Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      show: false\n    });\n\n    _defineProperty(this, \"onDocClick\", evt => {\n      if (this.elContainer && !this.elContainer.contains(evt.target)) {\n        this.setState({\n          show: false\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleToggle\", () => this.setState({\n      show: !this.state.show\n    }));\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.onDocClick);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocClick);\n  }\n\n  render() {\n    const {\n      name,\n      email,\n      avatarUrl,\n      helpUrl\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: c => this.elContainer = c,\n      \"data-test\": \"headerbar-profile\",\n      className: \"jsx-2642719072\" + \" \" + \"headerbar-profile\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleToggle,\n      className: \"jsx-2642719072\" + \" \" + \"headerbar-profile-btn\"\n    }, /*#__PURE__*/React.createElement(UserIcon, {\n      avatarUrl: avatarUrl,\n      name: name,\n      dataTest: \"headerbar-profile-icon\"\n    })), this.state.show ? /*#__PURE__*/React.createElement(ProfileMenu, {\n      avatarUrl: avatarUrl,\n      name: name,\n      email: email,\n      helpUrl: helpUrl\n    }) : null, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"2642719072\"\n    }, [\".headerbar-profile.jsx-2642719072{position:relative;width:36px;height:36px;min-width:36px;min-height:36px;margin:2px 12px 0 24px;}\", \".headerbar-profile-btn.jsx-2642719072{background:transparent;padding:0;border:0;cursor:pointer;width:100%;height:100%;}\", \".headerbar-profile-btn.jsx-2642719072:focus{outline:1px dotted white;}\"]));\n  }\n\n}\nProfile.propTypes = {\n  name: propTypes.string.isRequired,\n  avatarUrl: propTypes.string,\n  email: propTypes.string,\n  helpUrl: propTypes.string\n};","map":{"version":3,"sources":["/Users/rajabu/.config/yarn/global/node_modules/@dhis2/ui/node_modules/@dhis2/ui-widgets/build/es/HeaderBar/Profile.js"],"names":["_JSXStyle","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","propTypes","React","ProfileMenu","UserIcon","Profile","Component","constructor","args","show","evt","elContainer","contains","target","setState","state","componentDidMount","document","addEventListener","onDocClick","componentWillUnmount","removeEventListener","render","name","email","avatarUrl","helpUrl","props","createElement","ref","c","className","onClick","handleToggle","dataTest","id","string","isRequired"],"mappings":"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","sourcesContent":["import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport propTypes from '@dhis2/prop-types';\nimport React from 'react';\nimport { ProfileMenu } from './Profile/ProfileMenu.js';\nimport { UserIcon } from './UserIcon/UserIcon.js';\nexport default class Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      show: false\n    });\n\n    _defineProperty(this, \"onDocClick\", evt => {\n      if (this.elContainer && !this.elContainer.contains(evt.target)) {\n        this.setState({\n          show: false\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleToggle\", () => this.setState({\n      show: !this.state.show\n    }));\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.onDocClick);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocClick);\n  }\n\n  render() {\n    const {\n      name,\n      email,\n      avatarUrl,\n      helpUrl\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: c => this.elContainer = c,\n      \"data-test\": \"headerbar-profile\",\n      className: \"jsx-2642719072\" + \" \" + \"headerbar-profile\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleToggle,\n      className: \"jsx-2642719072\" + \" \" + \"headerbar-profile-btn\"\n    }, /*#__PURE__*/React.createElement(UserIcon, {\n      avatarUrl: avatarUrl,\n      name: name,\n      dataTest: \"headerbar-profile-icon\"\n    })), this.state.show ? /*#__PURE__*/React.createElement(ProfileMenu, {\n      avatarUrl: avatarUrl,\n      name: name,\n      email: email,\n      helpUrl: helpUrl\n    }) : null, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"2642719072\"\n    }, [\".headerbar-profile.jsx-2642719072{position:relative;width:36px;height:36px;min-width:36px;min-height:36px;margin:2px 12px 0 24px;}\", \".headerbar-profile-btn.jsx-2642719072{background:transparent;padding:0;border:0;cursor:pointer;width:100%;height:100%;}\", \".headerbar-profile-btn.jsx-2642719072:focus{outline:1px dotted white;}\"]));\n  }\n\n}\nProfile.propTypes = {\n  name: propTypes.string.isRequired,\n  avatarUrl: propTypes.string,\n  email: propTypes.string,\n  helpUrl: propTypes.string\n};"]},"metadata":{},"sourceType":"module"}