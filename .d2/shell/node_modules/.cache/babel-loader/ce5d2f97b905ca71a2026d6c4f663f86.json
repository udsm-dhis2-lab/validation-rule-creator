{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport propTypes from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport React, { Component, createRef } from 'react';\nimport { ChevronLeft, ChevronRight } from '../Icons/index.js';\nimport { animatedSideScroll } from './animatedSideScroll';\nimport { detectHorizontalScrollbarHeight } from './detectHorizontalScrollbarHeight';\n''; // TODO: https://github.com/jsdoc/jsdoc/issues/1718\n\n/**\n * @module\n * @private\n * @param {ScrollBar.PropTypes} props\n * @returns {React.Component}\n */\n\nclass ScrollBar extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"scrollBox\", /*#__PURE__*/createRef());\n\n    _defineProperty(this, \"scrollArea\", /*#__PURE__*/createRef());\n\n    _defineProperty(this, \"state\", {\n      scrolledToStart: false,\n      scrolledToEnd: false\n    });\n\n    _defineProperty(this, \"horizontalScrollBarHeight\", detectHorizontalScrollbarHeight());\n\n    _defineProperty(this, \"scrollRight\", () => this.scroll());\n\n    _defineProperty(this, \"scrollLeft\", () => this.scroll(true));\n\n    _defineProperty(this, \"animatedScrollCallback\", () => {\n      this.toggleScrollButtonVisibility();\n      this.attachSideScrollListener();\n    });\n\n    _defineProperty(this, \"toggleScrollButtonVisibility\", () => {\n      const {\n        scrollLeft,\n        offsetWidth\n      } = this.scrollBox.current;\n      const {\n        offsetWidth: areaOffsetWidth\n      } = this.scrollArea.current;\n      const scrolledToStart = scrollLeft <= 0;\n      const scrolledToEnd = scrollLeft + offsetWidth >= areaOffsetWidth;\n\n      if (this.state.scrolledToStart !== scrolledToStart || this.state.scrolledToEnd !== scrolledToEnd) {\n        this.setState({\n          scrolledToStart,\n          scrolledToEnd\n        });\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.scrollSelectedTabIntoView();\n    this.attachSideScrollListener();\n  }\n\n  componentWillUnmount() {\n    this.removeSideScrollListener();\n  }\n\n  scroll(goBackwards) {\n    this.removeSideScrollListener();\n    animatedSideScroll(this.scrollBox.current, this.animatedScrollCallback, goBackwards);\n  }\n\n  scrollSelectedTabIntoView() {\n    const scrollBoxEl = this.scrollBox.current;\n    const tab = scrollBoxEl.querySelector('.tab.selected');\n\n    if (tab) {\n      const tabEnd = tab.offsetLeft + tab.offsetWidth;\n\n      if (tabEnd > scrollBoxEl.offsetWidth) {\n        scrollBoxEl.scrollLeft = tabEnd - scrollBoxEl.offsetWidth;\n      }\n    }\n  }\n\n  attachSideScrollListener() {\n    this.scrollBox.current.addEventListener('scroll', this.toggleScrollButtonVisibility);\n  }\n\n  removeSideScrollListener() {\n    this.scrollBox.current.removeEventListener('scroll', this.toggleScrollButtonVisibility);\n  }\n\n  render() {\n    const {\n      scrolledToStart,\n      scrolledToEnd\n    } = this.state;\n    const {\n      children,\n      className,\n      dataTest\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": dataTest,\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + (cx('scroll-bar', className) || \"\")\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: scrolledToStart ? undefined : this.scrollLeft,\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + (cx('scroll-button', {\n        disabled: scrolledToStart\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(ChevronLeft, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + \"scroll-box-clipper\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.scrollBox,\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + \"scroll-box\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.scrollArea,\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + \"scroll-area\"\n    }, children))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: scrolledToEnd ? undefined : this.scrollRight,\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + (cx('scroll-button', {\n        disabled: scrolledToEnd\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(ChevronRight, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"1005471552\",\n      dynamic: [-this.horizontalScrollBarHeight]\n    }, [\".scroll-box.__jsx-style-dynamic-selector{margin-bottom:\".concat(-this.horizontalScrollBarHeight, \"px;}\")]), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"2359695694\",\n      dynamic: [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]\n    }, [\".scroll-bar.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}\", \".scroll-button.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;background-color:\".concat(colors.white, \";border:none;border-bottom:1px solid \").concat(colors.grey400, \";outline:none;padding:16px 16px 11px 16px;cursor:pointer;}\"), \".scroll-button.__jsx-style-dynamic-selector svg{width:20px;height:20px;fill:\".concat(colors.grey600, \";-webkit-transition:opacity 150ms ease-in-out;transition:opacity 150ms ease-in-out;opacity:1;}\"), \".scroll-button.__jsx-style-dynamic-selector:hover{background-color:\".concat(colors.grey100, \";}\"), \".scroll-button.__jsx-style-dynamic-selector:active{background-color:\".concat(colors.grey200, \";}\"), \".scroll-button.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}\", \".scroll-button.disabled.__jsx-style-dynamic-selector:hover{background-color:transparent;}\", \".scroll-button.disabled.__jsx-style-dynamic-selector svg{fill:\".concat(colors.grey500, \";}\"), \".scroll-box-clipper.__jsx-style-dynamic-selector{overflow-y:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".scroll-box.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow-x:scroll;-webkit-overflow-scrolling:touch;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \".scroll-box.__jsx-style-dynamic-selector::-webkit-scrollbar{display:none;}\", \".scroll-area.__jsx-style-dynamic-selector{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;overflow-x:hidden;}\"]));\n  }\n\n}\n/**\n * @typedef {Object} PropTypes\n * @static\n * @prop {Node} children\n * @prop {string} [className]\n */\n\n\nScrollBar.propTypes = {\n  children: propTypes.node.isRequired,\n  dataTest: propTypes.string.isRequired,\n  className: propTypes.string\n};\nexport { ScrollBar };","map":{"version":3,"sources":["/Users/rajabu/.config/yarn/global/node_modules/@dhis2/ui/node_modules/@dhis2/ui-core/build/es/TabBar/ScrollBar.js"],"names":["_JSXStyle","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","propTypes","colors","cx","React","Component","createRef","ChevronLeft","ChevronRight","animatedSideScroll","detectHorizontalScrollbarHeight","ScrollBar","constructor","args","scrolledToStart","scrolledToEnd","scroll","toggleScrollButtonVisibility","attachSideScrollListener","scrollLeft","offsetWidth","scrollBox","current","areaOffsetWidth","scrollArea","state","setState","componentDidMount","scrollSelectedTabIntoView","componentWillUnmount","removeSideScrollListener","goBackwards","animatedScrollCallback","scrollBoxEl","tab","querySelector","tabEnd","offsetLeft","addEventListener","removeEventListener","render","children","className","dataTest","props","createElement","dynamic","horizontalScrollBarHeight","white","grey400","grey600","grey100","grey200","grey500","onClick","undefined","disabled","ref","scrollRight","id","concat","node","isRequired","string"],"mappings":"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","sourcesContent":["import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport propTypes from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport React, { Component, createRef } from 'react';\nimport { ChevronLeft, ChevronRight } from '../Icons/index.js';\nimport { animatedSideScroll } from './animatedSideScroll';\nimport { detectHorizontalScrollbarHeight } from './detectHorizontalScrollbarHeight';\n''; // TODO: https://github.com/jsdoc/jsdoc/issues/1718\n\n/**\n * @module\n * @private\n * @param {ScrollBar.PropTypes} props\n * @returns {React.Component}\n */\n\nclass ScrollBar extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"scrollBox\", /*#__PURE__*/createRef());\n\n    _defineProperty(this, \"scrollArea\", /*#__PURE__*/createRef());\n\n    _defineProperty(this, \"state\", {\n      scrolledToStart: false,\n      scrolledToEnd: false\n    });\n\n    _defineProperty(this, \"horizontalScrollBarHeight\", detectHorizontalScrollbarHeight());\n\n    _defineProperty(this, \"scrollRight\", () => this.scroll());\n\n    _defineProperty(this, \"scrollLeft\", () => this.scroll(true));\n\n    _defineProperty(this, \"animatedScrollCallback\", () => {\n      this.toggleScrollButtonVisibility();\n      this.attachSideScrollListener();\n    });\n\n    _defineProperty(this, \"toggleScrollButtonVisibility\", () => {\n      const {\n        scrollLeft,\n        offsetWidth\n      } = this.scrollBox.current;\n      const {\n        offsetWidth: areaOffsetWidth\n      } = this.scrollArea.current;\n      const scrolledToStart = scrollLeft <= 0;\n      const scrolledToEnd = scrollLeft + offsetWidth >= areaOffsetWidth;\n\n      if (this.state.scrolledToStart !== scrolledToStart || this.state.scrolledToEnd !== scrolledToEnd) {\n        this.setState({\n          scrolledToStart,\n          scrolledToEnd\n        });\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.scrollSelectedTabIntoView();\n    this.attachSideScrollListener();\n  }\n\n  componentWillUnmount() {\n    this.removeSideScrollListener();\n  }\n\n  scroll(goBackwards) {\n    this.removeSideScrollListener();\n    animatedSideScroll(this.scrollBox.current, this.animatedScrollCallback, goBackwards);\n  }\n\n  scrollSelectedTabIntoView() {\n    const scrollBoxEl = this.scrollBox.current;\n    const tab = scrollBoxEl.querySelector('.tab.selected');\n\n    if (tab) {\n      const tabEnd = tab.offsetLeft + tab.offsetWidth;\n\n      if (tabEnd > scrollBoxEl.offsetWidth) {\n        scrollBoxEl.scrollLeft = tabEnd - scrollBoxEl.offsetWidth;\n      }\n    }\n  }\n\n  attachSideScrollListener() {\n    this.scrollBox.current.addEventListener('scroll', this.toggleScrollButtonVisibility);\n  }\n\n  removeSideScrollListener() {\n    this.scrollBox.current.removeEventListener('scroll', this.toggleScrollButtonVisibility);\n  }\n\n  render() {\n    const {\n      scrolledToStart,\n      scrolledToEnd\n    } = this.state;\n    const {\n      children,\n      className,\n      dataTest\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": dataTest,\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + (cx('scroll-bar', className) || \"\")\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: scrolledToStart ? undefined : this.scrollLeft,\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + (cx('scroll-button', {\n        disabled: scrolledToStart\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(ChevronLeft, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + \"scroll-box-clipper\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.scrollBox,\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + \"scroll-box\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.scrollArea,\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + \"scroll-area\"\n    }, children))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: scrolledToEnd ? undefined : this.scrollRight,\n      className: _JSXStyle.dynamic([[\"1005471552\", [-this.horizontalScrollBarHeight]], [\"2359695694\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + (cx('scroll-button', {\n        disabled: scrolledToEnd\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(ChevronRight, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"1005471552\",\n      dynamic: [-this.horizontalScrollBarHeight]\n    }, [\".scroll-box.__jsx-style-dynamic-selector{margin-bottom:\".concat(-this.horizontalScrollBarHeight, \"px;}\")]), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"2359695694\",\n      dynamic: [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]\n    }, [\".scroll-bar.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}\", \".scroll-button.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;background-color:\".concat(colors.white, \";border:none;border-bottom:1px solid \").concat(colors.grey400, \";outline:none;padding:16px 16px 11px 16px;cursor:pointer;}\"), \".scroll-button.__jsx-style-dynamic-selector svg{width:20px;height:20px;fill:\".concat(colors.grey600, \";-webkit-transition:opacity 150ms ease-in-out;transition:opacity 150ms ease-in-out;opacity:1;}\"), \".scroll-button.__jsx-style-dynamic-selector:hover{background-color:\".concat(colors.grey100, \";}\"), \".scroll-button.__jsx-style-dynamic-selector:active{background-color:\".concat(colors.grey200, \";}\"), \".scroll-button.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}\", \".scroll-button.disabled.__jsx-style-dynamic-selector:hover{background-color:transparent;}\", \".scroll-button.disabled.__jsx-style-dynamic-selector svg{fill:\".concat(colors.grey500, \";}\"), \".scroll-box-clipper.__jsx-style-dynamic-selector{overflow-y:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".scroll-box.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow-x:scroll;-webkit-overflow-scrolling:touch;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \".scroll-box.__jsx-style-dynamic-selector::-webkit-scrollbar{display:none;}\", \".scroll-area.__jsx-style-dynamic-selector{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;overflow-x:hidden;}\"]));\n  }\n\n}\n/**\n * @typedef {Object} PropTypes\n * @static\n * @prop {Node} children\n * @prop {string} [className]\n */\n\n\nScrollBar.propTypes = {\n  children: propTypes.node.isRequired,\n  dataTest: propTypes.string.isRequired,\n  className: propTypes.string\n};\nexport { ScrollBar };"]},"metadata":{},"sourceType":"module"}