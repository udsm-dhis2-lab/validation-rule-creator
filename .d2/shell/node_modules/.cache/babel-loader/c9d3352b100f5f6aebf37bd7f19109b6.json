{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass);\n}\n\nimport EventEmitter from './EventEmitter.js';\nimport * as utils from './utils.js';\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.data = data || {};\n    _this.options = options;\n    return _this;\n  }\n\n  ResourceStore.prototype.addNamespaces = function addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  };\n\n  ResourceStore.prototype.removeNamespaces = function removeNamespaces(ns) {\n    var index = this.options.ns.indexOf(ns);\n\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  };\n\n  ResourceStore.prototype.getResource = function getResource(lng, ns, key) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var keySeparator = options.keySeparator || this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n    var path = [lng, ns];\n    if (key && typeof key !== 'string') path = path.concat(key);\n    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    }\n\n    return utils.getPath(this.data, path);\n  };\n\n  ResourceStore.prototype.addResource = function addResource(lng, ns, key, value) {\n    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    var keySeparator = this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n    var path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n    utils.setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  };\n\n  ResourceStore.prototype.addResources = function addResources(lng, ns, resources) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    /* eslint no-restricted-syntax: 0 */\n\n    for (var m in resources) {\n      if (typeof resources[m] === 'string') this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.addResourceBundle = function addResourceBundle(lng, ns, resources, deep, overwrite) {\n    var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false\n    };\n    var path = [lng, ns];\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n    var pack = utils.getPath(this.data, path) || {};\n\n    if (deep) {\n      utils.deepExtend(pack, resources, overwrite);\n    } else {\n      pack = _extends({}, pack, resources);\n    }\n\n    utils.setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.removeResourceBundle = function removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  };\n\n  ResourceStore.prototype.hasResourceBundle = function hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  };\n\n  ResourceStore.prototype.getResourceBundle = function getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS; // COMPATIBILITY: remove extend in v2.1.0\n\n    if (this.options.compatibilityAPI === 'v1') return _extends({}, this.getResource(lng, ns));\n    return this.getResource(lng, ns);\n  };\n\n  ResourceStore.prototype.toJSON = function toJSON() {\n    return this.data;\n  };\n\n  return ResourceStore;\n}(EventEmitter);\n\nexport default ResourceStore;","map":{"version":3,"sources":["/Users/rajabu/.config/yarn/global/node_modules/@dhis2/d2-i18n/node_modules/i18next/dist/es/ResourceStore.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_defaults","obj","defaults","keys","getOwnPropertyNames","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","setPrototypeOf","EventEmitter","utils","ResourceStore","_EventEmitter","data","options","ns","defaultNS","_this","addNamespaces","indexOf","push","removeNamespaces","index","splice","getResource","lng","keySeparator","path","concat","split","getPath","addResource","silent","setPath","emit","addResources","resources","m","addResourceBundle","deep","overwrite","pack","deepExtend","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","toJSON"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport EventEmitter from './EventEmitter.js';\nimport * as utils from './utils.js';\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { ns: ['translation'], defaultNS: 'translation' };\n\n    _classCallCheck(this, ResourceStore);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.data = data || {};\n    _this.options = options;\n    return _this;\n  }\n\n  ResourceStore.prototype.addNamespaces = function addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  };\n\n  ResourceStore.prototype.removeNamespaces = function removeNamespaces(ns) {\n    var index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  };\n\n  ResourceStore.prototype.getResource = function getResource(lng, ns, key) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    var keySeparator = options.keySeparator || this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key && typeof key !== 'string') path = path.concat(key);\n    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    }\n\n    return utils.getPath(this.data, path);\n  };\n\n  ResourceStore.prototype.addResource = function addResource(lng, ns, key, value) {\n    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { silent: false };\n\n    var keySeparator = this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    utils.setPath(this.data, path, value);\n\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  };\n\n  ResourceStore.prototype.addResources = function addResources(lng, ns, resources) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : { silent: false };\n\n    /* eslint no-restricted-syntax: 0 */\n    for (var m in resources) {\n      if (typeof resources[m] === 'string') this.addResource(lng, ns, m, resources[m], { silent: true });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.addResourceBundle = function addResourceBundle(lng, ns, resources, deep, overwrite) {\n    var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : { silent: false };\n\n    var path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    var pack = utils.getPath(this.data, path) || {};\n\n    if (deep) {\n      utils.deepExtend(pack, resources, overwrite);\n    } else {\n      pack = _extends({}, pack, resources);\n    }\n\n    utils.setPath(this.data, path, pack);\n\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.removeResourceBundle = function removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n\n    this.emit('removed', lng, ns);\n  };\n\n  ResourceStore.prototype.hasResourceBundle = function hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  };\n\n  ResourceStore.prototype.getResourceBundle = function getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n\n    // COMPATIBILITY: remove extend in v2.1.0\n    if (this.options.compatibilityAPI === 'v1') return _extends({}, this.getResource(lng, ns));\n\n    return this.getResource(lng, ns);\n  };\n\n  ResourceStore.prototype.toJSON = function toJSON() {\n    return this.data;\n  };\n\n  return ResourceStore;\n}(EventEmitter);\n\nexport default ResourceStore;"]},"metadata":{},"sourceType":"module"}