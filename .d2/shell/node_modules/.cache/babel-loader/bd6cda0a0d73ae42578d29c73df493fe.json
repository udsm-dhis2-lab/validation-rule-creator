{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport propTypes from '@dhis2/prop-types';\nimport { spacers } from '@dhis2/ui-constants';\nimport { CircularLoader } from '@dhis2/ui-core';\nimport React, { Fragment, useRef } from 'react';\nimport { EndIntersectionDetector } from './EndIntersectionDetector.js';\nimport { useResizeCounter } from './useResizeCounter';\nexport const OptionsContainer = ({\n  dataTest,\n  emptyComponent,\n  onEndReached,\n  getOptionClickHandlers,\n  highlightedOptions,\n  loading,\n  renderOption,\n  options,\n  selected,\n  selectionHandler,\n  toggleHighlightedOption\n}) => {\n  const optionsRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const resizeCounter = useResizeCounter(wrapperRef.current);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"optionsContainer\"\n  }, loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"loading\"\n  }, /*#__PURE__*/React.createElement(CircularLoader, null)), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    ref: optionsRef,\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: wrapperRef,\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"content-container\"\n  }, !options.length && emptyComponent, options.map(option => {\n    const highlighted = !!highlightedOptions.find(highlightedSourceOption => highlightedSourceOption === option.value);\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: option.value\n    }, renderOption({ ...option,\n      ...getOptionClickHandlers(option, selectionHandler, toggleHighlightedOption),\n      highlighted,\n      selected\n    }));\n  }), onEndReached && /*#__PURE__*/React.createElement(EndIntersectionDetector, {\n    dataTest: \"\".concat(dataTest, \"-endintersectiondetector\"),\n    key: \"key-\".concat(resizeCounter),\n    rootRef: optionsRef,\n    onEndReached: onEndReached\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"889751462\",\n    dynamic: [spacers.dp4]\n  }, [\".optionsContainer.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:\".concat(spacers.dp4, \" 0;position:relative;overflow:hidden;}\"), \".container.__jsx-style-dynamic-selector{overflow-y:auto;height:100%;}\", \".loading.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;z-index:2;top:0;left:0;}\", \".content-container.__jsx-style-dynamic-selector{z-index:1;position:relative;}\", \".loading.__jsx-style-dynamic-selector+.container.__jsx-style-dynamic-selector .content-container.__jsx-style-dynamic-selector{-webkit-filter:blur(2px);filter:blur(2px);}\"]));\n};\nOptionsContainer.defaultProps = {\n  selected: false\n};\nOptionsContainer.propTypes = {\n  dataTest: propTypes.string.isRequired,\n  getOptionClickHandlers: propTypes.func.isRequired,\n  emptyComponent: propTypes.node,\n  highlightedOptions: propTypes.arrayOf(propTypes.string),\n  loading: propTypes.bool,\n  options: propTypes.arrayOf(propTypes.shape({\n    label: propTypes.string.isRequired,\n    value: propTypes.string.isRequired\n  })),\n  renderOption: propTypes.func,\n  selected: propTypes.bool,\n  selectionHandler: propTypes.func,\n  toggleHighlightedOption: propTypes.func,\n  onEndReached: propTypes.func\n};","map":{"version":3,"sources":["/Users/rajabu/.config/yarn/global/node_modules/@dhis2/ui/node_modules/@dhis2/ui-widgets/build/es/Transfer/OptionsContainer.js"],"names":["_JSXStyle","propTypes","spacers","CircularLoader","React","Fragment","useRef","EndIntersectionDetector","useResizeCounter","OptionsContainer","dataTest","emptyComponent","onEndReached","getOptionClickHandlers","highlightedOptions","loading","renderOption","options","selected","selectionHandler","toggleHighlightedOption","optionsRef","wrapperRef","resizeCounter","current","createElement","className","dynamic","dp4","ref","length","map","option","highlighted","find","highlightedSourceOption","value","key","concat","rootRef","id","defaultProps","string","isRequired","func","node","arrayOf","bool","shape","label"],"mappings":"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","sourcesContent":["import _JSXStyle from \"styled-jsx/style\";\nimport propTypes from '@dhis2/prop-types';\nimport { spacers } from '@dhis2/ui-constants';\nimport { CircularLoader } from '@dhis2/ui-core';\nimport React, { Fragment, useRef } from 'react';\nimport { EndIntersectionDetector } from './EndIntersectionDetector.js';\nimport { useResizeCounter } from './useResizeCounter';\nexport const OptionsContainer = ({\n  dataTest,\n  emptyComponent,\n  onEndReached,\n  getOptionClickHandlers,\n  highlightedOptions,\n  loading,\n  renderOption,\n  options,\n  selected,\n  selectionHandler,\n  toggleHighlightedOption\n}) => {\n  const optionsRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const resizeCounter = useResizeCounter(wrapperRef.current);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"optionsContainer\"\n  }, loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"loading\"\n  }, /*#__PURE__*/React.createElement(CircularLoader, null)), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    ref: optionsRef,\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: wrapperRef,\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"content-container\"\n  }, !options.length && emptyComponent, options.map(option => {\n    const highlighted = !!highlightedOptions.find(highlightedSourceOption => highlightedSourceOption === option.value);\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: option.value\n    }, renderOption({ ...option,\n      ...getOptionClickHandlers(option, selectionHandler, toggleHighlightedOption),\n      highlighted,\n      selected\n    }));\n  }), onEndReached && /*#__PURE__*/React.createElement(EndIntersectionDetector, {\n    dataTest: \"\".concat(dataTest, \"-endintersectiondetector\"),\n    key: \"key-\".concat(resizeCounter),\n    rootRef: optionsRef,\n    onEndReached: onEndReached\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"889751462\",\n    dynamic: [spacers.dp4]\n  }, [\".optionsContainer.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:\".concat(spacers.dp4, \" 0;position:relative;overflow:hidden;}\"), \".container.__jsx-style-dynamic-selector{overflow-y:auto;height:100%;}\", \".loading.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;z-index:2;top:0;left:0;}\", \".content-container.__jsx-style-dynamic-selector{z-index:1;position:relative;}\", \".loading.__jsx-style-dynamic-selector+.container.__jsx-style-dynamic-selector .content-container.__jsx-style-dynamic-selector{-webkit-filter:blur(2px);filter:blur(2px);}\"]));\n};\nOptionsContainer.defaultProps = {\n  selected: false\n};\nOptionsContainer.propTypes = {\n  dataTest: propTypes.string.isRequired,\n  getOptionClickHandlers: propTypes.func.isRequired,\n  emptyComponent: propTypes.node,\n  highlightedOptions: propTypes.arrayOf(propTypes.string),\n  loading: propTypes.bool,\n  options: propTypes.arrayOf(propTypes.shape({\n    label: propTypes.string.isRequired,\n    value: propTypes.string.isRequired\n  })),\n  renderOption: propTypes.func,\n  selected: propTypes.bool,\n  selectionHandler: propTypes.func,\n  toggleHighlightedOption: propTypes.func,\n  onEndReached: propTypes.func\n};"]},"metadata":{},"sourceType":"module"}