{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { useState, useMemo } from 'react';\nimport { usePopper } from 'react-popper';\nimport { getReferenceElement } from './getReferenceElement.js';\nimport { deduplicateModifiers } from './modifiers.js';\n/**\n * @module\n * @param {Popper.PropTypes} props\n * @returns {React.Component}\n * @description A React wrapper around popper.js.\n *\n * @example import { Popper } from '@dhis2/ui-core'\n *\n * @see Live demo: {@link /demo/?path=/story/components-core-popper--top|Storybook}\n * @see Popper js: {@link https://popper.js.org/docs/v2/|Documentation}\n */\n\nconst Popper = ({\n  children,\n  className,\n  dataTest,\n  modifiers,\n  observePopperResize,\n  observeReferenceResize,\n  onFirstUpdate,\n  placement,\n  reference,\n  strategy\n}) => {\n  const referenceElement = getReferenceElement(reference);\n  const [popperElement, setPopperElement] = useState(null);\n  const deduplicatedModifiers = useMemo(() => deduplicateModifiers(modifiers, {\n    observePopperResize,\n    observeReferenceResize\n  }), [modifiers, observePopperResize, observeReferenceResize]);\n  const {\n    styles,\n    attributes\n  } = usePopper(referenceElement, popperElement, {\n    strategy,\n    onFirstUpdate,\n    placement,\n    modifiers: deduplicatedModifiers\n  });\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: className,\n    \"data-test\": dataTest,\n    ref: setPopperElement,\n    style: styles.popper\n  }, attributes.popper), children);\n};\n\nPopper.defaultProps = {\n  dataTest: 'dhis2-uicore-popper',\n  modifiers: [],\n  placement: 'auto'\n};\n/**\n * @typedef Modifier\n * @type {Object}\n * @property {string} name\n * @property {Object} options\n */\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {Node} children\n * @prop {React.Ref|Element|VirtualElement} reference A React ref, DOM node, or {@link https://popper.js.org/docs/v2/virtual-elements/|popper.js virtual element} for the Popper to position itself against.\n * @prop {string} [className]\n * @prop {string} [dataTest=dhis2-uicore-popper]\n * @prop {Array.<Modifier>} [modifiers=[]] A property of the `createPopper` options, {@link https://popper.js.org/docs/v2/constructors/|see constructor section of popper.js docs}\n * @prop {Boolean} observePopperResize Makes the popper update position when the popper content changes size\n * @prop {Boolean} observeReferenceResize Makes the popper update position when the reference element changes size\n * @prop {('absolute'|'fixed')} [strategy=absolute] A property of the `createPopper` options, {@link https://popper.js.org/docs/v2/constructors/|see constructor section of popper.js docs}\n * @prop {Function} [onFirstUpdate] A property of the `createPopper` options, {@link https://popper.js.org/docs/v2/constructors/|see constructor section of popper.js docs}\n * @prop {('auto'|'auto-start'|'auto-end'|'top'|'top-start'|'top-end'|'bottom'|'bottom-start'|'bottom-end'|'right'|'right-start'|'right-end'|'left'|'left-start'|'left-end')} [placement=top] A property of the `createPopper` options, {@link https://popper.js.org/docs/v2/constructors/|see constructor section of popper.js docs}\n */\n// Prop names follow the names here: https://popper.js.org/docs/v2/constructors/\n\nPopper.propTypes = {\n  /** Content inside the Popper */\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** A property of the `createPopper` options. See [popper docs](https://popper.js.org/docs/v2/constructors/) */\n  modifiers: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    options: PropTypes.object\n  })),\n\n  /** Makes the Popper update position when the **Popper content** changes size */\n  observePopperResize: PropTypes.bool,\n\n  /** Makes the Popper update position when the **reference element** changes size */\n  observeReferenceResize: PropTypes.bool,\n\n  /** A property of the `createPopper` options. See [popper docs](https://popper.js.org/docs/v2/constructors/) */\n  placement: sharedPropTypes.popperPlacementPropType,\n\n  /** A React ref, DOM node, or [virtual element](https://popper.js.org/docs/v2/virtual-elements/) for the popper to position itself against */\n  reference: sharedPropTypes.popperReferencePropType,\n\n  /** A property of the `createPopper` options. See [popper docs](https://popper.js.org/docs/v2/constructors/) */\n  strategy: PropTypes.oneOf(['absolute', 'fixed']),\n  // defaults to 'absolute'\n\n  /** A property of the `createPopper` options. See [popper docs](https://popper.js.org/docs/v2/constructors/) */\n  onFirstUpdate: PropTypes.func\n};\nexport { Popper };","map":{"version":3,"sources":["/Users/rajabu/.config/yarn/global/node_modules/@dhis2/ui/node_modules/@dhis2/ui-core/build/es/Popper/Popper.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","sharedPropTypes","PropTypes","React","useState","useMemo","usePopper","getReferenceElement","deduplicateModifiers","Popper","children","className","dataTest","modifiers","observePopperResize","observeReferenceResize","onFirstUpdate","placement","reference","strategy","referenceElement","popperElement","setPopperElement","deduplicatedModifiers","styles","attributes","createElement","ref","style","popper","defaultProps","propTypes","node","isRequired","string","arrayOf","shape","name","options","object","bool","popperPlacementPropType","popperReferencePropType","oneOf","func"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { useState, useMemo } from 'react';\nimport { usePopper } from 'react-popper';\nimport { getReferenceElement } from './getReferenceElement.js';\nimport { deduplicateModifiers } from './modifiers.js';\n/**\n * @module\n * @param {Popper.PropTypes} props\n * @returns {React.Component}\n * @description A React wrapper around popper.js.\n *\n * @example import { Popper } from '@dhis2/ui-core'\n *\n * @see Live demo: {@link /demo/?path=/story/components-core-popper--top|Storybook}\n * @see Popper js: {@link https://popper.js.org/docs/v2/|Documentation}\n */\n\nconst Popper = ({\n  children,\n  className,\n  dataTest,\n  modifiers,\n  observePopperResize,\n  observeReferenceResize,\n  onFirstUpdate,\n  placement,\n  reference,\n  strategy\n}) => {\n  const referenceElement = getReferenceElement(reference);\n  const [popperElement, setPopperElement] = useState(null);\n  const deduplicatedModifiers = useMemo(() => deduplicateModifiers(modifiers, {\n    observePopperResize,\n    observeReferenceResize\n  }), [modifiers, observePopperResize, observeReferenceResize]);\n  const {\n    styles,\n    attributes\n  } = usePopper(referenceElement, popperElement, {\n    strategy,\n    onFirstUpdate,\n    placement,\n    modifiers: deduplicatedModifiers\n  });\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: className,\n    \"data-test\": dataTest,\n    ref: setPopperElement,\n    style: styles.popper\n  }, attributes.popper), children);\n};\n\nPopper.defaultProps = {\n  dataTest: 'dhis2-uicore-popper',\n  modifiers: [],\n  placement: 'auto'\n};\n/**\n * @typedef Modifier\n * @type {Object}\n * @property {string} name\n * @property {Object} options\n */\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {Node} children\n * @prop {React.Ref|Element|VirtualElement} reference A React ref, DOM node, or {@link https://popper.js.org/docs/v2/virtual-elements/|popper.js virtual element} for the Popper to position itself against.\n * @prop {string} [className]\n * @prop {string} [dataTest=dhis2-uicore-popper]\n * @prop {Array.<Modifier>} [modifiers=[]] A property of the `createPopper` options, {@link https://popper.js.org/docs/v2/constructors/|see constructor section of popper.js docs}\n * @prop {Boolean} observePopperResize Makes the popper update position when the popper content changes size\n * @prop {Boolean} observeReferenceResize Makes the popper update position when the reference element changes size\n * @prop {('absolute'|'fixed')} [strategy=absolute] A property of the `createPopper` options, {@link https://popper.js.org/docs/v2/constructors/|see constructor section of popper.js docs}\n * @prop {Function} [onFirstUpdate] A property of the `createPopper` options, {@link https://popper.js.org/docs/v2/constructors/|see constructor section of popper.js docs}\n * @prop {('auto'|'auto-start'|'auto-end'|'top'|'top-start'|'top-end'|'bottom'|'bottom-start'|'bottom-end'|'right'|'right-start'|'right-end'|'left'|'left-start'|'left-end')} [placement=top] A property of the `createPopper` options, {@link https://popper.js.org/docs/v2/constructors/|see constructor section of popper.js docs}\n */\n// Prop names follow the names here: https://popper.js.org/docs/v2/constructors/\n\nPopper.propTypes = {\n  /** Content inside the Popper */\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** A property of the `createPopper` options. See [popper docs](https://popper.js.org/docs/v2/constructors/) */\n  modifiers: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    options: PropTypes.object\n  })),\n\n  /** Makes the Popper update position when the **Popper content** changes size */\n  observePopperResize: PropTypes.bool,\n\n  /** Makes the Popper update position when the **reference element** changes size */\n  observeReferenceResize: PropTypes.bool,\n\n  /** A property of the `createPopper` options. See [popper docs](https://popper.js.org/docs/v2/constructors/) */\n  placement: sharedPropTypes.popperPlacementPropType,\n\n  /** A React ref, DOM node, or [virtual element](https://popper.js.org/docs/v2/virtual-elements/) for the popper to position itself against */\n  reference: sharedPropTypes.popperReferencePropType,\n\n  /** A property of the `createPopper` options. See [popper docs](https://popper.js.org/docs/v2/constructors/) */\n  strategy: PropTypes.oneOf(['absolute', 'fixed']),\n  // defaults to 'absolute'\n\n  /** A property of the `createPopper` options. See [popper docs](https://popper.js.org/docs/v2/constructors/) */\n  onFirstUpdate: PropTypes.func\n};\nexport { Popper };"]},"metadata":{},"sourceType":"module"}