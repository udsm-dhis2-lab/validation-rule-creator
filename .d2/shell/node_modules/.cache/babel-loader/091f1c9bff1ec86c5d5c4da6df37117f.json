{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport { colors, layers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useLayerContext } from '../Layer/Layer.js';\nimport { Popper } from '../Popper/Popper.js';\nconst TOOLTIP_OFFSET = 4;\nconst popperStyle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2999517824\"\n  }, [\".jsx-2999517824{z-index:\".concat(layers.applicationTop, \";pointer-events:none;}\"), \"div[data-popper-reference-hidden=\\\"true\\\"].jsx-2999517824{visibility:hidden;}\"]),\n  className: \"jsx-2999517824\"\n};\nconst offsetModifier = {\n  name: 'offset',\n  options: {\n    offset: [0, TOOLTIP_OFFSET]\n  }\n};\n/**\n * For some reason the intended effects of the 'hide' modifier work with or\n * without adding it to the popper... but it may be safe to include it anyway\n */\n\nconst hideModifier = {\n  name: 'hide'\n};\nconst flipModifier = {\n  name: 'flip',\n  options: {\n    altBoundary: true\n  }\n};\n/**\n * @module\n * @param {Tooltip.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { Tooltip } from '@dhis2/ui-core'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/molecules/tooltip.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/tooltips--default-fluid|Storybook}\n */\n\nconst Tooltip = ({\n  children,\n  className,\n  closeDelay,\n  content,\n  dataTest,\n  maxWidth,\n  openDelay,\n  placement\n}) => {\n  const [open, setOpen] = useState(false);\n  const popperReference = useRef();\n  const openTimerRef = useRef(null);\n  const closeTimerRef = useRef(null);\n  const {\n    node: portalRootNode\n  } = useLayerContext();\n\n  const onMouseOver = () => {\n    clearTimeout(closeTimerRef.current);\n    openTimerRef.current = setTimeout(() => {\n      setOpen(true);\n    }, openDelay);\n  };\n\n  const onMouseOut = () => {\n    clearTimeout(openTimerRef.current);\n    closeTimerRef.current = setTimeout(() => {\n      setOpen(false);\n    }, closeDelay);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, typeof children === 'function' ? children({\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    ref: popperReference\n  }) : /*#__PURE__*/React.createElement(\"span\", {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    ref: popperReference,\n    \"data-test\": \"\".concat(dataTest, \"-reference\"),\n    className: _JSXStyle.dynamic([[\"1329547013\", [maxWidth, colors.grey800, colors.white]]])\n  }, children), open && /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(Popper, {\n    className: popperStyle.className,\n    placement: placement,\n    reference: popperReference,\n    modifiers: [offsetModifier, flipModifier, hideModifier]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-content\"),\n    className: _JSXStyle.dynamic([[\"1329547013\", [maxWidth, colors.grey800, colors.white]]]) + \" \" + (className || \"\")\n  }, content)), portalRootNode), popperStyle.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1329547013\",\n    dynamic: [maxWidth, colors.grey800, colors.white]\n  }, [\"div.__jsx-style-dynamic-selector{max-width:\".concat(maxWidth, \"px;}\"), \"div.__jsx-style-dynamic-selector{padding:6px 8px;background-color:\".concat(colors.grey800, \";border-radius:3px;color:\").concat(colors.white, \";font-size:12px;line-height:16px;}\")]));\n};\n\nTooltip.defaultProps = {\n  closeDelay: 400,\n  dataTest: 'dhis2-uicore-tooltip',\n  maxWidth: 300,\n  openDelay: 200,\n  placement: 'top',\n  tag: 'span'\n};\n/**\n * @typedef {Object} PropTypes\n * @static\n * @prop {Node|function} [children]\n * @prop {string} [className]\n * @prop {number} [closeDelay=400] Time (in ms) until tooltip closes after mouse out\n * @prop {Node} [content]\n * @prop {string} [dataTest=dhis2-uicore-tooltip]\n * @prop {number} [maxWidth=300]\n * @prop {number} [openDelay=200] Time (in ms) until tooltip opens after mouse over\n * @prop {('top'|'bottom'|'right'|'left')} [placement=top]\n */\n\nTooltip.propTypes = {\n  /** If child is a function, it's called with `{ onMouseOver, onMouseOut, ref }` args to apply to a reference element. If child is a node, it is wrapped in a `span` with the appropriate attributes and handlers. */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  className: PropTypes.string,\n\n  /** Time (in ms) until tooltip closes after mouse out */\n  closeDelay: PropTypes.number,\n\n  /** Content to display when the tooltip is open */\n  content: PropTypes.node,\n  dataTest: PropTypes.string,\n\n  /** Max width of the tooltip in px */\n  maxWidth: PropTypes.number,\n\n  /** Time (in ms) until tooltip open after mouse over */\n  openDelay: PropTypes.number,\n\n  /** Where to place the tooltip relative to its reference */\n  placement: PropTypes.oneOf(['top', 'right', 'bottom', 'left'])\n};\nexport { Tooltip, TOOLTIP_OFFSET };","map":{"version":3,"sources":["/Users/rajabu/.config/yarn/global/node_modules/@dhis2/ui/node_modules/@dhis2/ui-core/build/es/Tooltip/Tooltip.js"],"names":["_JSXStyle","colors","layers","PropTypes","React","useRef","useState","createPortal","useLayerContext","Popper","TOOLTIP_OFFSET","popperStyle","styles","createElement","id","concat","applicationTop","className","offsetModifier","name","options","offset","hideModifier","flipModifier","altBoundary","Tooltip","children","closeDelay","content","dataTest","maxWidth","openDelay","placement","open","setOpen","popperReference","openTimerRef","closeTimerRef","node","portalRootNode","onMouseOver","clearTimeout","current","setTimeout","onMouseOut","Fragment","ref","dynamic","grey800","white","reference","modifiers","defaultProps","tag","propTypes","oneOfType","func","string","number","oneOf"],"mappings":"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","sourcesContent":["import _JSXStyle from \"styled-jsx/style\";\nimport { colors, layers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useLayerContext } from '../Layer/Layer.js';\nimport { Popper } from '../Popper/Popper.js';\nconst TOOLTIP_OFFSET = 4;\nconst popperStyle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2999517824\"\n  }, [\".jsx-2999517824{z-index:\".concat(layers.applicationTop, \";pointer-events:none;}\"), \"div[data-popper-reference-hidden=\\\"true\\\"].jsx-2999517824{visibility:hidden;}\"]),\n  className: \"jsx-2999517824\"\n};\nconst offsetModifier = {\n  name: 'offset',\n  options: {\n    offset: [0, TOOLTIP_OFFSET]\n  }\n};\n/**\n * For some reason the intended effects of the 'hide' modifier work with or\n * without adding it to the popper... but it may be safe to include it anyway\n */\n\nconst hideModifier = {\n  name: 'hide'\n};\nconst flipModifier = {\n  name: 'flip',\n  options: {\n    altBoundary: true\n  }\n};\n/**\n * @module\n * @param {Tooltip.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { Tooltip } from '@dhis2/ui-core'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/molecules/tooltip.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/tooltips--default-fluid|Storybook}\n */\n\nconst Tooltip = ({\n  children,\n  className,\n  closeDelay,\n  content,\n  dataTest,\n  maxWidth,\n  openDelay,\n  placement\n}) => {\n  const [open, setOpen] = useState(false);\n  const popperReference = useRef();\n  const openTimerRef = useRef(null);\n  const closeTimerRef = useRef(null);\n  const {\n    node: portalRootNode\n  } = useLayerContext();\n\n  const onMouseOver = () => {\n    clearTimeout(closeTimerRef.current);\n    openTimerRef.current = setTimeout(() => {\n      setOpen(true);\n    }, openDelay);\n  };\n\n  const onMouseOut = () => {\n    clearTimeout(openTimerRef.current);\n    closeTimerRef.current = setTimeout(() => {\n      setOpen(false);\n    }, closeDelay);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, typeof children === 'function' ? children({\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    ref: popperReference\n  }) : /*#__PURE__*/React.createElement(\"span\", {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    ref: popperReference,\n    \"data-test\": \"\".concat(dataTest, \"-reference\"),\n    className: _JSXStyle.dynamic([[\"1329547013\", [maxWidth, colors.grey800, colors.white]]])\n  }, children), open && /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(Popper, {\n    className: popperStyle.className,\n    placement: placement,\n    reference: popperReference,\n    modifiers: [offsetModifier, flipModifier, hideModifier]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-content\"),\n    className: _JSXStyle.dynamic([[\"1329547013\", [maxWidth, colors.grey800, colors.white]]]) + \" \" + (className || \"\")\n  }, content)), portalRootNode), popperStyle.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1329547013\",\n    dynamic: [maxWidth, colors.grey800, colors.white]\n  }, [\"div.__jsx-style-dynamic-selector{max-width:\".concat(maxWidth, \"px;}\"), \"div.__jsx-style-dynamic-selector{padding:6px 8px;background-color:\".concat(colors.grey800, \";border-radius:3px;color:\").concat(colors.white, \";font-size:12px;line-height:16px;}\")]));\n};\n\nTooltip.defaultProps = {\n  closeDelay: 400,\n  dataTest: 'dhis2-uicore-tooltip',\n  maxWidth: 300,\n  openDelay: 200,\n  placement: 'top',\n  tag: 'span'\n};\n/**\n * @typedef {Object} PropTypes\n * @static\n * @prop {Node|function} [children]\n * @prop {string} [className]\n * @prop {number} [closeDelay=400] Time (in ms) until tooltip closes after mouse out\n * @prop {Node} [content]\n * @prop {string} [dataTest=dhis2-uicore-tooltip]\n * @prop {number} [maxWidth=300]\n * @prop {number} [openDelay=200] Time (in ms) until tooltip opens after mouse over\n * @prop {('top'|'bottom'|'right'|'left')} [placement=top]\n */\n\nTooltip.propTypes = {\n  /** If child is a function, it's called with `{ onMouseOver, onMouseOut, ref }` args to apply to a reference element. If child is a node, it is wrapped in a `span` with the appropriate attributes and handlers. */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  className: PropTypes.string,\n\n  /** Time (in ms) until tooltip closes after mouse out */\n  closeDelay: PropTypes.number,\n\n  /** Content to display when the tooltip is open */\n  content: PropTypes.node,\n  dataTest: PropTypes.string,\n\n  /** Max width of the tooltip in px */\n  maxWidth: PropTypes.number,\n\n  /** Time (in ms) until tooltip open after mouse over */\n  openDelay: PropTypes.number,\n\n  /** Where to place the tooltip relative to its reference */\n  placement: PropTypes.oneOf(['top', 'right', 'bottom', 'left'])\n};\nexport { Tooltip, TOOLTIP_OFFSET };"]},"metadata":{},"sourceType":"module"}