{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport { Checkbox } from '@dhis2/ui-core';\nimport cx from 'classnames';\nimport propTypes from 'prop-types';\nimport React from 'react';\nimport { FolderOpen, FolderClosed, Single, Empty } from '../Icons/index.js';\nimport { orgUnitPathPropType } from './propTypes';\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {Function} props.onToggleOpen\n * @param {bool} [props.loading]\n * @returns {React.Component}\n */\n\nconst DisabledSelectionLabel = ({\n  label,\n  loading,\n  onToggleOpen\n}) => /*#__PURE__*/React.createElement(SingleSelectionLabel, {\n  checked: false,\n  loading: loading,\n  label: label,\n  onChange: onToggleOpen\n});\n\nDisabledSelectionLabel.propTypes = {\n  label: propTypes.string.isRequired,\n  onToggleOpen: propTypes.func.isRequired,\n  loading: propTypes.bool\n};\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {bool} [props.checked]\n * @param {bool} [props.loading]\n * @param {Function} [props.onChange]\n * @returns {React.Component}\n */\n\nconst SingleSelectionLabel = ({\n  checked,\n  label,\n  onChange,\n  loading\n}) => /*#__PURE__*/React.createElement(\"span\", {\n  onClick: event => {\n    const payload = {\n      checked: !checked\n    };\n    onChange(payload, event);\n  },\n  className: _JSXStyle.dynamic([[\"321503310\", [colors.grey900, colors.teal700]]]) + \" \" + (cx({\n    checked,\n    loading\n  }) || \"\")\n}, label, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"321503310\",\n  dynamic: [colors.grey900, colors.teal700]\n}, [\"span.__jsx-style-dynamic-selector{background:transparent;border-radius:3px;color:\".concat(colors.grey900, \";cursor:pointer;display:inline-block;font-size:14px;line-height:24px;padding:0 5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;}\"), \".checked.__jsx-style-dynamic-selector{background:\".concat(colors.teal700, \";color:white;}\"), \".loading.__jsx-style-dynamic-selector{cursor:auto;}\"]));\n\nSingleSelectionLabel.propTypes = {\n  label: propTypes.string.isRequired,\n  checked: propTypes.bool,\n  loading: propTypes.bool,\n  onChange: propTypes.func\n};\n/**\n * @param {Object} props\n * @param {bool} props.highlighted\n * @param {React.Component|React.Component[]} props.children\n * @returns {React.Component}\n */\n\nconst LabelContainer = ({\n  highlighted,\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"495975020\", [colors.teal200]]]) + \" \" + (cx({\n    highlighted\n  }) || \"\")\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: _JSXStyle.dynamic([[\"495975020\", [colors.teal200]]])\n}, children), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"495975020\",\n  dynamic: [colors.teal200]\n}, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \"span.__jsx-style-dynamic-selector{display:block;}\", \".highlighted.__jsx-style-dynamic-selector{background:\".concat(colors.teal200, \";padding-right:4px;}\")]));\n\nLabelContainer.propTypes = {\n  children: propTypes.node,\n  highlighted: propTypes.bool\n};\n/**\n * @param {Object} props\n * @param {bool} props.hasChildren\n * @param {bool} props.open\n * @returns {React.Component}\n */\n\nconst Icon = ({\n  loading,\n  hasChildren,\n  open,\n  dataTest\n}) => {\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Empty, {\n      dataTest: dataTest\n    });\n  }\n\n  if (!hasChildren) {\n    return /*#__PURE__*/React.createElement(Single, {\n      dataTest: dataTest\n    });\n  }\n\n  if (open) {\n    return /*#__PURE__*/React.createElement(FolderOpen, {\n      dataTest: dataTest\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(FolderClosed, {\n    dataTest: dataTest\n  });\n};\n\nIcon.propTypes = {\n  dataTest: propTypes.string.isRequired,\n  hasChildren: propTypes.bool,\n  loading: propTypes.bool,\n  open: propTypes.bool\n};\n\nconst IconizedCheckbox = ({\n  checked,\n  dataTest,\n  hasChildren,\n  indeterminate,\n  label,\n  loading,\n  name,\n  open,\n  value,\n  onChange\n}) => {\n  const icon = /*#__PURE__*/React.createElement(Icon, {\n    loading: loading,\n    open: open,\n    hasChildren: hasChildren,\n    dataTest: dataTest\n  });\n  const checkboxLabel = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-3097236308\"\n  }, icon), label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3097236308\"\n  }, [\"span.jsx-3097236308{display:inline-block;margin-right:4px;}\"]));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Checkbox, {\n    dense: true,\n    checked: checked,\n    name: name,\n    value: value,\n    label: checkboxLabel,\n    indeterminate: indeterminate,\n    onChange: onChange\n  }));\n};\n\nIconizedCheckbox.propTypes = {\n  checked: propTypes.bool.isRequired,\n  dataTest: propTypes.string.isRequired,\n  hasChildren: propTypes.bool.isRequired,\n  indeterminate: propTypes.bool.isRequired,\n  label: propTypes.string.isRequired,\n  loading: propTypes.bool.isRequired,\n  name: propTypes.string.isRequired,\n  open: propTypes.bool.isRequired,\n  value: propTypes.string.isRequired,\n  onChange: propTypes.func.isRequired\n};\n\nconst createNewSelected = ({\n  selected,\n  path,\n  checked,\n  singleSelection\n}) => {\n  const pathIndex = selected.indexOf(path);\n  if (checked && pathIndex !== -1) return selected;\n  if (singleSelection && checked) return [path];\n  if (checked) return [...selected, path];\n  if (pathIndex === -1) return selected;\n  if (singleSelection) return [];\n  if (selected.indexOf(path) === 0) return selected.slice(1);\n  const prevSlice = selected.slice(0, pathIndex);\n  const nextSlice = selected.slice(pathIndex + 1);\n  return [...prevSlice, ...nextSlice];\n};\n/**\n * @module\n * @param {Label.PropTypes} props\n * @returns {React.Component}\n */\n\n\nconst Label = ({\n  id,\n  path,\n  open,\n  loading,\n  checked,\n  onChange,\n  dataTest,\n  selected,\n  hasChildren,\n  highlighted,\n  displayName,\n  onToggleOpen,\n  disableSelection,\n  singleSelection,\n  hasSelectedDescendants\n}) => {\n  const onClick = ({\n    checked\n  }, event) => {\n    const newSelected = createNewSelected({\n      selected,\n      path,\n      checked,\n      singleSelection\n    });\n    onChange({\n      id,\n      path,\n      checked,\n      displayName,\n      selected: newSelected\n    }, event);\n  };\n\n  if (disableSelection) {\n    return /*#__PURE__*/React.createElement(LabelContainer, {\n      highlighted: highlighted\n    }, /*#__PURE__*/React.createElement(DisabledSelectionLabel, {\n      label: displayName,\n      loading: loading,\n      onToggleOpen: onToggleOpen\n    }));\n  }\n\n  if (singleSelection) {\n    return /*#__PURE__*/React.createElement(LabelContainer, {\n      highlighted: highlighted\n    }, /*#__PURE__*/React.createElement(SingleSelectionLabel, {\n      checked: checked,\n      label: displayName,\n      onChange: onClick,\n      loading: loading\n    }, displayName));\n  }\n\n  return /*#__PURE__*/React.createElement(LabelContainer, {\n    highlighted: highlighted\n  }, /*#__PURE__*/React.createElement(IconizedCheckbox, {\n    dataTest: dataTest,\n    checked: checked,\n    name: \"org-unit\",\n    value: id,\n    label: displayName,\n    loading: loading,\n    indeterminate: !checked && hasSelectedDescendants,\n    onChange: onClick,\n    open: open,\n    hasChildren: hasChildren\n  }));\n};\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} id\n * @prop {string} path\n * @prop {string} displayName\n * @prop {bool} open\n * @prop {bool} loading\n * @prop {bool} hasChildren\n * @prop {Function} [onChange]\n * @prop {Function} [onToggleOpen]\n * @prop {bool} [checked]\n * @prop {bool} [highlighted]\n * @prop {bool} [disableSelection]\n * @prop {bool} [singleSelection]\n * @prop {bool} [hasSelectedDescendants]\n */\n\n\nLabel.propTypes = {\n  dataTest: propTypes.string.isRequired,\n  displayName: propTypes.string.isRequired,\n  hasChildren: propTypes.bool.isRequired,\n  id: propTypes.string.isRequired,\n  loading: propTypes.bool.isRequired,\n  open: propTypes.bool.isRequired,\n  path: propTypes.string.isRequired,\n  onChange: propTypes.func.isRequired,\n  onToggleOpen: propTypes.func.isRequired,\n  checked: propTypes.bool,\n  disableSelection: propTypes.bool,\n  hasSelectedDescendants: propTypes.bool,\n  highlighted: propTypes.bool,\n  selected: propTypes.arrayOf(orgUnitPathPropType),\n  singleSelection: propTypes.bool\n};\nexport { Label };","map":{"version":3,"sources":["/Users/rajabu/.config/yarn/global/node_modules/@dhis2/ui/node_modules/@dhis2/ui-widgets/build/es/OrganisationUnitTree/Label.js"],"names":["_JSXStyle","colors","Checkbox","cx","propTypes","React","FolderOpen","FolderClosed","Single","Empty","orgUnitPathPropType","DisabledSelectionLabel","label","loading","onToggleOpen","createElement","SingleSelectionLabel","checked","onChange","string","isRequired","func","bool","onClick","event","payload","className","dynamic","grey900","teal700","id","concat","LabelContainer","highlighted","children","teal200","node","Icon","hasChildren","open","dataTest","IconizedCheckbox","indeterminate","name","value","icon","checkboxLabel","Fragment","dense","createNewSelected","selected","path","singleSelection","pathIndex","indexOf","slice","prevSlice","nextSlice","Label","displayName","disableSelection","hasSelectedDescendants","newSelected","arrayOf"],"mappings":"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","sourcesContent":["import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport { Checkbox } from '@dhis2/ui-core';\nimport cx from 'classnames';\nimport propTypes from 'prop-types';\nimport React from 'react';\nimport { FolderOpen, FolderClosed, Single, Empty } from '../Icons/index.js';\nimport { orgUnitPathPropType } from './propTypes';\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {Function} props.onToggleOpen\n * @param {bool} [props.loading]\n * @returns {React.Component}\n */\n\nconst DisabledSelectionLabel = ({\n  label,\n  loading,\n  onToggleOpen\n}) => /*#__PURE__*/React.createElement(SingleSelectionLabel, {\n  checked: false,\n  loading: loading,\n  label: label,\n  onChange: onToggleOpen\n});\n\nDisabledSelectionLabel.propTypes = {\n  label: propTypes.string.isRequired,\n  onToggleOpen: propTypes.func.isRequired,\n  loading: propTypes.bool\n};\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {bool} [props.checked]\n * @param {bool} [props.loading]\n * @param {Function} [props.onChange]\n * @returns {React.Component}\n */\n\nconst SingleSelectionLabel = ({\n  checked,\n  label,\n  onChange,\n  loading\n}) => /*#__PURE__*/React.createElement(\"span\", {\n  onClick: event => {\n    const payload = {\n      checked: !checked\n    };\n    onChange(payload, event);\n  },\n  className: _JSXStyle.dynamic([[\"321503310\", [colors.grey900, colors.teal700]]]) + \" \" + (cx({\n    checked,\n    loading\n  }) || \"\")\n}, label, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"321503310\",\n  dynamic: [colors.grey900, colors.teal700]\n}, [\"span.__jsx-style-dynamic-selector{background:transparent;border-radius:3px;color:\".concat(colors.grey900, \";cursor:pointer;display:inline-block;font-size:14px;line-height:24px;padding:0 5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;}\"), \".checked.__jsx-style-dynamic-selector{background:\".concat(colors.teal700, \";color:white;}\"), \".loading.__jsx-style-dynamic-selector{cursor:auto;}\"]));\n\nSingleSelectionLabel.propTypes = {\n  label: propTypes.string.isRequired,\n  checked: propTypes.bool,\n  loading: propTypes.bool,\n  onChange: propTypes.func\n};\n/**\n * @param {Object} props\n * @param {bool} props.highlighted\n * @param {React.Component|React.Component[]} props.children\n * @returns {React.Component}\n */\n\nconst LabelContainer = ({\n  highlighted,\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"495975020\", [colors.teal200]]]) + \" \" + (cx({\n    highlighted\n  }) || \"\")\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: _JSXStyle.dynamic([[\"495975020\", [colors.teal200]]])\n}, children), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"495975020\",\n  dynamic: [colors.teal200]\n}, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \"span.__jsx-style-dynamic-selector{display:block;}\", \".highlighted.__jsx-style-dynamic-selector{background:\".concat(colors.teal200, \";padding-right:4px;}\")]));\n\nLabelContainer.propTypes = {\n  children: propTypes.node,\n  highlighted: propTypes.bool\n};\n/**\n * @param {Object} props\n * @param {bool} props.hasChildren\n * @param {bool} props.open\n * @returns {React.Component}\n */\n\nconst Icon = ({\n  loading,\n  hasChildren,\n  open,\n  dataTest\n}) => {\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Empty, {\n      dataTest: dataTest\n    });\n  }\n\n  if (!hasChildren) {\n    return /*#__PURE__*/React.createElement(Single, {\n      dataTest: dataTest\n    });\n  }\n\n  if (open) {\n    return /*#__PURE__*/React.createElement(FolderOpen, {\n      dataTest: dataTest\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(FolderClosed, {\n    dataTest: dataTest\n  });\n};\n\nIcon.propTypes = {\n  dataTest: propTypes.string.isRequired,\n  hasChildren: propTypes.bool,\n  loading: propTypes.bool,\n  open: propTypes.bool\n};\n\nconst IconizedCheckbox = ({\n  checked,\n  dataTest,\n  hasChildren,\n  indeterminate,\n  label,\n  loading,\n  name,\n  open,\n  value,\n  onChange\n}) => {\n  const icon = /*#__PURE__*/React.createElement(Icon, {\n    loading: loading,\n    open: open,\n    hasChildren: hasChildren,\n    dataTest: dataTest\n  });\n  const checkboxLabel = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-3097236308\"\n  }, icon), label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3097236308\"\n  }, [\"span.jsx-3097236308{display:inline-block;margin-right:4px;}\"]));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Checkbox, {\n    dense: true,\n    checked: checked,\n    name: name,\n    value: value,\n    label: checkboxLabel,\n    indeterminate: indeterminate,\n    onChange: onChange\n  }));\n};\n\nIconizedCheckbox.propTypes = {\n  checked: propTypes.bool.isRequired,\n  dataTest: propTypes.string.isRequired,\n  hasChildren: propTypes.bool.isRequired,\n  indeterminate: propTypes.bool.isRequired,\n  label: propTypes.string.isRequired,\n  loading: propTypes.bool.isRequired,\n  name: propTypes.string.isRequired,\n  open: propTypes.bool.isRequired,\n  value: propTypes.string.isRequired,\n  onChange: propTypes.func.isRequired\n};\n\nconst createNewSelected = ({\n  selected,\n  path,\n  checked,\n  singleSelection\n}) => {\n  const pathIndex = selected.indexOf(path);\n  if (checked && pathIndex !== -1) return selected;\n  if (singleSelection && checked) return [path];\n  if (checked) return [...selected, path];\n  if (pathIndex === -1) return selected;\n  if (singleSelection) return [];\n  if (selected.indexOf(path) === 0) return selected.slice(1);\n  const prevSlice = selected.slice(0, pathIndex);\n  const nextSlice = selected.slice(pathIndex + 1);\n  return [...prevSlice, ...nextSlice];\n};\n/**\n * @module\n * @param {Label.PropTypes} props\n * @returns {React.Component}\n */\n\n\nconst Label = ({\n  id,\n  path,\n  open,\n  loading,\n  checked,\n  onChange,\n  dataTest,\n  selected,\n  hasChildren,\n  highlighted,\n  displayName,\n  onToggleOpen,\n  disableSelection,\n  singleSelection,\n  hasSelectedDescendants\n}) => {\n  const onClick = ({\n    checked\n  }, event) => {\n    const newSelected = createNewSelected({\n      selected,\n      path,\n      checked,\n      singleSelection\n    });\n    onChange({\n      id,\n      path,\n      checked,\n      displayName,\n      selected: newSelected\n    }, event);\n  };\n\n  if (disableSelection) {\n    return /*#__PURE__*/React.createElement(LabelContainer, {\n      highlighted: highlighted\n    }, /*#__PURE__*/React.createElement(DisabledSelectionLabel, {\n      label: displayName,\n      loading: loading,\n      onToggleOpen: onToggleOpen\n    }));\n  }\n\n  if (singleSelection) {\n    return /*#__PURE__*/React.createElement(LabelContainer, {\n      highlighted: highlighted\n    }, /*#__PURE__*/React.createElement(SingleSelectionLabel, {\n      checked: checked,\n      label: displayName,\n      onChange: onClick,\n      loading: loading\n    }, displayName));\n  }\n\n  return /*#__PURE__*/React.createElement(LabelContainer, {\n    highlighted: highlighted\n  }, /*#__PURE__*/React.createElement(IconizedCheckbox, {\n    dataTest: dataTest,\n    checked: checked,\n    name: \"org-unit\",\n    value: id,\n    label: displayName,\n    loading: loading,\n    indeterminate: !checked && hasSelectedDescendants,\n    onChange: onClick,\n    open: open,\n    hasChildren: hasChildren\n  }));\n};\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} id\n * @prop {string} path\n * @prop {string} displayName\n * @prop {bool} open\n * @prop {bool} loading\n * @prop {bool} hasChildren\n * @prop {Function} [onChange]\n * @prop {Function} [onToggleOpen]\n * @prop {bool} [checked]\n * @prop {bool} [highlighted]\n * @prop {bool} [disableSelection]\n * @prop {bool} [singleSelection]\n * @prop {bool} [hasSelectedDescendants]\n */\n\n\nLabel.propTypes = {\n  dataTest: propTypes.string.isRequired,\n  displayName: propTypes.string.isRequired,\n  hasChildren: propTypes.bool.isRequired,\n  id: propTypes.string.isRequired,\n  loading: propTypes.bool.isRequired,\n  open: propTypes.bool.isRequired,\n  path: propTypes.string.isRequired,\n  onChange: propTypes.func.isRequired,\n  onToggleOpen: propTypes.func.isRequired,\n  checked: propTypes.bool,\n  disableSelection: propTypes.bool,\n  hasSelectedDescendants: propTypes.bool,\n  highlighted: propTypes.bool,\n  selected: propTypes.arrayOf(orgUnitPathPropType),\n  singleSelection: propTypes.bool\n};\nexport { Label };"]},"metadata":{},"sourceType":"module"}