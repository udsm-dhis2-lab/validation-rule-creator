{"ast":null,"code":"import i18n from '../locales/index.js';\nimport { isEmpty, isString } from './helpers/index.js';\n/*\n * Email validation is complicated business. There is no perfect regex,\n * instead we have to make a trade-off between complexity, correctness,\n * and the risk of producing false negatives. This article\n * https://www.regular-expressions.info/email.html offers a good overview.\n * It recommends to use a very simple regex when having to validate many\n * records, but for validating an individual email address a more complex\n * regex may be used.\n *\n * The pattern below is taken from the \"The Official Standard: RFC 5322\"\n * section of the article and is described as:\n * \"[..] a more practical implementation of RFC 5322 [..] that will still\n * match 99.99% of all email addresses in actual use today\"\n *\n * const EMAIL_ADDRESS_PATTERN = /[a-z0-9!#$%&'*+/=?^_‘{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_‘{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i\n *\n * However, this regex produces a few false negatives and quite a lot\n * of false positives.\n *\n * Another regex, found in this stackoverflow answer below resulted in a better\n * overall picture in terms of false negatives and positives, so I settled on that one:\n * https://stackoverflow.com/questions/46155/how-to-validate-an-email-address-in-javascript/46181#46181\n */\n\nconst EMAIL_ADDRESS_PATTERN = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/i;\nconst invalidEmailMessage = i18n.t('Please provide a valid email address');\n\nconst email = value => isEmpty(value) || isString(value) && EMAIL_ADDRESS_PATTERN.test(value) ? undefined : invalidEmailMessage;\n\nexport { email, invalidEmailMessage };","map":{"version":3,"sources":["/Users/rajabu/.config/yarn/global/node_modules/@dhis2/ui/node_modules/@dhis2/ui-forms/build/es/validators/email.js"],"names":["i18n","isEmpty","isString","EMAIL_ADDRESS_PATTERN","invalidEmailMessage","t","email","value","test","undefined"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,qBAAjB;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,oBAAlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,qBAAqB,GAAG,wJAA9B;AACA,MAAMC,mBAAmB,GAAGJ,IAAI,CAACK,CAAL,CAAO,sCAAP,CAA5B;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IAAIN,OAAO,CAACM,KAAD,CAAP,IAAkBL,QAAQ,CAACK,KAAD,CAAR,IAAmBJ,qBAAqB,CAACK,IAAtB,CAA2BD,KAA3B,CAArC,GAAyEE,SAAzE,GAAqFL,mBAA5G;;AAEA,SAASE,KAAT,EAAgBF,mBAAhB","sourcesContent":["import i18n from '../locales/index.js';\nimport { isEmpty, isString } from './helpers/index.js';\n/*\n * Email validation is complicated business. There is no perfect regex,\n * instead we have to make a trade-off between complexity, correctness,\n * and the risk of producing false negatives. This article\n * https://www.regular-expressions.info/email.html offers a good overview.\n * It recommends to use a very simple regex when having to validate many\n * records, but for validating an individual email address a more complex\n * regex may be used.\n *\n * The pattern below is taken from the \"The Official Standard: RFC 5322\"\n * section of the article and is described as:\n * \"[..] a more practical implementation of RFC 5322 [..] that will still\n * match 99.99% of all email addresses in actual use today\"\n *\n * const EMAIL_ADDRESS_PATTERN = /[a-z0-9!#$%&'*+/=?^_‘{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_‘{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i\n *\n * However, this regex produces a few false negatives and quite a lot\n * of false positives.\n *\n * Another regex, found in this stackoverflow answer below resulted in a better\n * overall picture in terms of false negatives and positives, so I settled on that one:\n * https://stackoverflow.com/questions/46155/how-to-validate-an-email-address-in-javascript/46181#46181\n */\n\nconst EMAIL_ADDRESS_PATTERN = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/i;\nconst invalidEmailMessage = i18n.t('Please provide a valid email address');\n\nconst email = value => isEmpty(value) || isString(value) && EMAIL_ADDRESS_PATTERN.test(value) ? undefined : invalidEmailMessage;\n\nexport { email, invalidEmailMessage };"]},"metadata":{},"sourceType":"module"}